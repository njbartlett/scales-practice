<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <title>Scales Practice</title>

    <!-- Vue development version, includes helpful console warnings -->
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

    <style>
        .row {
            margin: 20px 0;
        }
        .card.choice {
            margin: 15px 0px;
        }
        .choice {
            font-size: xx-large;
        }
        p.card-text {
            color: darkblue;
        }
    </style>
</head>

<body>
    
    <div id="app" class="container-fluid">
        <div class="row justify-content-center">
            <!-- <div class="col-12"> -->
                <div class="card choice bg-light border-dark mb-3 text-center" style="max-width: 400px; min-width: 200px;">
                    <div class="card-header choice">
                        {{ scales.section }}
                    </div>
                    <div class="card-body">
                        <h6 class="card-subtitle mb-2 text-muted">{{ scales.bowing }}</h6>
                        <p class="card-text">{{ scales.detail }}</p>
                        <button type="button" class="btn btn-primary " v-on:click="nextChoice">Next!</button>
                    </div>
                </div>
            <!-- </div> -->
        </div>
    </div>
</body>

<script>
    var keys = [
        "A♭ / G♯",
        "C",
        "C♯ / D♭",
        "E♭",
        "E"
    ];
    var sections = [
        {
            section: 'Scales',
            bowing: ['Separate', 'Slurred'],
            list: [
                "A♭ major",
                "G♯ minor melodic",
                "G♯ minor harmonic",
                "C major",
                "C minor melodic",
                "C minor harmonic",
                "D♭ major",
                "C♯ minor melodic",
                "C♯ minor harmonic",
                "E♭ major",
                "E♭ minor melodic",
                "E♭ minor harmonic",
                "E major",
                "E minor melodic",
                "E minor harmonic"
            ]
        },
        {
            section: 'Arpeggios',
            bowing: ['Separate', 'Slurred'],
            list: [
                "A♭ major",
                "G♯ minor",
                "C major",
                "C minor",
                "D♭ major",
                "C♯ minor",
                "E♭ major",
                "E♭ minor",
                "E major",
                "E minor"
            ]
        },
        {
            section: 'Dominant Sevenths',
            bowing: ['Separate', 'Slurred'],
            list: [
                "in the key of D♭",
                "in the key of F",
                "in the key of A♭",
                "in the key of A"
            ]
        },
        {
            section: 'Diminished Sevenths',
            bowing: ['Separate', 'Slurred'],
            list: [
                "starting on C",
                "starting on E♭",
                "starting on E",
                "starting on A♭"
            ]
        },
        {
            section: 'Chromatic Scales',
            bowing: ['Separate', 'Slurred'],
            list: [
                "starting on C",
                "starting on E♭",
                "starting on E",
                "starting on A♭"
            ]
        },
        {
            section: 'Double-Stop Scales',
            bowing: ['Separate'],
            list: [
                "in octaves in D major",
                "in octaves in G minor melodic",
                "in octaves in G minor harmonic",
                "in sixths in E♭ major"
            ]
        },
        {
            section: 'In Broken Steps',
            bowing: ['N/A'],
            list: [
                "in thirds in B♭ major"
            ]
        }
    ];

    function randomItem(arr) {
        return arr[Math.floor(Math.random() * arr.length)];
    }

    function generateAllCombos() {
        var combos = [];
        for (var sectionIndex = 0; sectionIndex < sections.length; sectionIndex++) {
            var section = sections[sectionIndex];
            var sectionName = section.section;
            for (var bowingIndex = 0; bowingIndex < section.bowing.length; bowingIndex++) {
                var bowing = section.bowing[bowingIndex];
                for (var listIndex = 0; listIndex < section.list.length; listIndex++) {
                    var entry = section.list[listIndex];
                    combos.push({
                        section: sectionName,
                        bowing: bowing,
                        detail: entry
                    });
                }
            }
        }
        return combos;
    }

    var app = new Vue({
        el: '#app',
        data: {
            scales: randomItem(generateAllCombos())
        },
        methods: {
            nextChoice: function() {
                var combos = generateAllCombos();
                this.scales = randomItem(combos);
            }
        }
    });

</script>

</html>